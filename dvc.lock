schema: '2.0'
stages:
  get_features:
    cmd: python3 scripts/data_processing/get_features.py datasets/train.csv
    deps:
    - path: datasets/train.csv
      hash: md5
      md5: 80ccab65fb115cbad143dbbd2bcd5577
      size: 460676
    - path: scripts/data_processing/get_features.py
      hash: md5
      md5: 9bef4ad0755e63e3523ebf1e0cae87e6
      size: 813
    outs:
    - path: datasets/stage1
      hash: md5
      md5: 68f25129ad380878fed8a8c0178f2d13.dir
      size: 445158
      nfiles: 1
  prepared_features:
    cmd: python3 scripts/data_processing/prepared_features.py datasets/stage1/train.csv
    deps:
    - path: datasets/stage1/train.csv
      hash: md5
      md5: 43769c42fe655b2416effa7cc8e8ba5b
      size: 445158
    - path: scripts/data_processing/prepared_features.py
      hash: md5
      md5: 2dfc600c10792adaf9bec21c4ec2bb55
      size: 3176
    outs:
    - path: datasets/stage2
      hash: md5
      md5: 3e3d18d24e1fabce0fab01cc57d98c5f.dir
      size: 510054
      nfiles: 1
  split:
    cmd: python3 scripts/data_processing/train_test_split.py datasets/stage2/train.csv
    deps:
    - path: datasets/stage2/train.csv
      hash: md5
      md5: 1ad5ba012a0c4bb393ae2c8e8200a58b
      size: 510054
    - path: scripts/data_processing/train_test_split.py
      hash: md5
      md5: f25023e84df53eef24ca70d4714e78d3
      size: 2946
    params:
      params.yaml:
        split.split_ratio: 0.3
    outs:
    - path: datasets/stage3
      hash: md5
      md5: 73d3310636bc47013f5fab0359c1075d.dir
      size: 2345544
      nfiles: 2
  train:
    cmd: python3 scripts/model_learning/dt.py datasets/stage3/train.csv model.pkl
    deps:
    - path: datasets/stage3/train.csv
      hash: md5
      md5: f806bb1737c01f64bbcdf6a6ed412933
      size: 1639250
    - path: scripts/model_learning/dt.py
      hash: md5
      md5: b234e71922c223ef3a171267adb1e204
      size: 905
    params:
      params.yaml:
        train.max_depth: 8
        train.seed: 42
    outs:
    - path: models/model.pkl
      hash: md5
      md5: b16908c22aeea8bd08f2f3567308a56e
      size: 33802
  evaluate:
    cmd: python3 scripts/model_learning/evaluate.py datasets/stage3/test.csv models/model.pkl
    deps:
    - path: datasets/stage3/test.csv
      hash: md5
      md5: 0943fe90384ee1281287735bb05ca0e5
      size: 706294
    - path: models/model.pkl
      hash: md5
      md5: b16908c22aeea8bd08f2f3567308a56e
      size: 33802
    - path: scripts/model_learning/evaluate.py
      hash: md5
      md5: 1c6637fa9db33f553c667f1b3bc2720c
      size: 898
    outs:
    - path: evaluate/score.json
      hash: md5
      md5: 305f942a9c6fda835b50b44d0f19377d
      size: 47
